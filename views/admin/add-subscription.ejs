<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	<title>Ecardify - Dashboard</title>

	<!-- Favicon -->
	<link rel="shortcut icon" href="/public/assets/admin/img/favicon.png">

	<!-- Fontfamily -->
	<link
		href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;0,900;1,400;1,500;1,700&display=swap"
		rel="stylesheet">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="/public/assets/admin/plugins/bootstrap/css/bootstrap.min.css">

	<!-- Feathericon CSS -->
	<link rel="stylesheet" href="/public/assets/admin/plugins/feather/feather.css">

	<!-- Pe7 CSS -->
	<link rel="stylesheet" href="/public/assets/admin/plugins/icons/flags/flags.css">

	<!-- Fontawesome CSS -->
	<link rel="stylesheet" href="/public/assets/admin/plugins/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="/public/assets/admin/plugins/fontawesome/css/all.min.css">

	<!-- Main CSS -->
	<link rel="stylesheet" href="/public/assets/admin/css/style.css">
</head>

<body>

	<!-- Main Wrapper -->
	<div class="main-wrapper">

		<!-- Header -->
		<%- include('header.ejs') %>
			<!-- /Header -->

			<!-- Sidebar -->
			<%- include('sidebar.ejs') %>
				<!-- /Sidebar -->

				<!-- Page Wrapper -->
				<div class="page-wrapper">
					<div class="content container-fluid">

						<!-- Page Header -->
						<div class="page-header">
							<div class="row align-items-center">
								<div class="col">
									<h3 class="page-title">Add Subscription</h3>
									<ul class="breadcrumb">
										<li class="breadcrumb-item"><a href="/subscription">Subscription plan </a></li>
										<li class="breadcrumb-item active">Add Subscription</li>
									</ul>
								</div>
							</div>
						</div>
						<!-- /Page Header -->

						<div class="row">
							<div class="col-sm-12">

								<div class="card">
									<div class="card-body">
										<form action="/add-subscription" method="post">
											<div class="row">
												<div class="col-12">
													<h5 class="form-title"><span>Basic Details</span></h5>
												</div>
												<div class="col-12 col-sm-4">
													<div class="form-group local-forms">
														<label>Plan Name <span class="login-danger">*</span></label>
														<input name="name" class="form-control" type="text" id="name"
															placeholder="Enter Plan Name" required>
													</div>
												</div>
												<div class="col-12 col-sm-4">
													<div class="form-group local-forms">
														<label>Price<span class="login-danger">*</span></label>
														<input name="price" class="form-control" type="number"
															id="price" placeholder="Enter Price" required>
													</div>
												</div>
											</div>

											<div class="row">
												<div class="col-12 button-container">
													<button type="button" id="addFeature">Add feature</button>
												</div>
											</div>

											<div class="row" id="additionalFeatures">
												<!-- Dynamic features will be added here -->
											</div>

											<div class="row">
												<div class="col-12 button-container">
													<div class="student-submit">
														<button type="submit" class="btn btn-primary">Submit</button>
													</div>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<!-- /Page Wrapper -->


				<!-- /Main Wrapper -->

				<!-- jQuery -->

				<style>
					.button-container {
						margin-bottom: 15px;
						/* Add some margin between buttons */
					}
				</style>


				<script>
					document.addEventListener('DOMContentLoaded', function () {
						const form = document.getElementById('subscriptionForm');
						const additionalFeaturesContainer = document.getElementById('additionalFeatures');
						const addFeatureBtn = document.getElementById('addFeature');

						addFeatureBtn.addEventListener('click', function () {
							additionalFeaturesContainer.innerHTML += `
				  <div class="row">
					<div class="col-12">
					  <div class="form-group">
						<label>Feature Name<span class="login-danger">*</span></label>
						<input name="featureNames[]" class="form-control" type="text" placeholder="Enter Feature Name" required>
					  </div>
					</div>
					<div class="col-12 col-sm-4 button-container">
					  <button type="button" class="delete-feature-btn">Delete</button>
					</div>
				  </div>
				`;

							const deleteButtons = document.querySelectorAll('.delete-feature-btn');
							deleteButtons.forEach(button => {
								button.addEventListener('click', function () {
									this.closest('.row').remove();
								});
							});
						});

						form.addEventListener('submit', function (event) {
							event.preventDefault();

							// Process the form data, e.g., send it to the server using AJAX
							const formData = new FormData(form);
							// ... Perform the necessary actions ...

							// Reset the form or redirect the user as needed
							form.reset();
						});
					});
				</script>
				<!-- jQuery -->
				<script src="/public/assets/admin/js/jquery-3.6.0.min.js"></script>

				<!-- Bootstrap Core JS -->
				<script src="/public/assets/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

				<!-- Feather Icon JS -->
				<script src="/public/assets/admin/js/feather.min.js"></script>

				<!-- Slimscroll JS -->
				<script src="/public/assets/admin/plugins/slimscroll/jquery.slimscroll.min.js"></script>

				<!-- Select2 JS -->
				<script src="/public/assets/admin/plugins/select2/js/select2.min.js"></script>

				<!-- Datepicker Core JS -->
				<script src="/public/assets/admin/plugins/moment/moment.min.js"></script>
				<script src="/public/assets/admin/js/bootstrap-datetimepicker.min.js"></script>

				<!-- Custom JS -->
				<script src="/public/assets/admin/js/script.js"></script>
</body>

</html>